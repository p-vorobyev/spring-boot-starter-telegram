FROM quay.io/centos/centos@sha256:368301edb3ab6900c2497d0c645f19c8e0770866fc466fb708cfe049e6fa7567

USER root

WORKDIR /tdlib

# Update system packages and install required dependencies
# Grouped into a single RUN command to reduce image layers
RUN yum update -y && \
    dnf --enablerepo=crb -y install gperf && \
    yum -y install \
        gcc-c++ \
        make \
        git \
        zlib-devel \
        openssl-devel \
        php \
        cmake \
        java-11-openjdk-devel